<div class="w-full">
  <h1 class="font-bold text-4xl">Webhook Requests</h1>
  <div class="py-10">
    <div data-controller="clipboard">
      <label for="email" class="block font-medium text-gray-700">Point your service to</label>
      <div class="mt-1 flex rounded-md shadow-sm">
        <div class="relative flex items-stretch flex-grow focus-within:z-10">
          <%= text_field_tag "create_webhook_request_url", create_webhook_request_url,
                             readonly: true,
                             data: {clipboard_target: "source"},
                             class: "focus:ring-sky-500 focus:border-sky-500 block w-full rounded-none rounded-l-md border-gray-300"
          %>
        </div>
        <%= button_tag data: {action: "click->clipboard#copy"}, class: "-ml-px relative inline-flex items-center space-x-2 px-4 py-2 border border-gray-300 font-medium rounded-r-md text-gray-700 bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-sky-500 focus:border-sky-500" do %>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
          </svg>
          <span>Copy to clipboard</span>
        <% end %>
      </div>
    </div>
    <div class="mt-5">
      <%= button_to "Delete all Requests", delete_all_requests_path,
                    method: :delete,
                    form: {data: {turbo_confirm: "Are you sure?"}},
                    class: "text-sky-600 hover:text-sky-800"
      %>
    </div>
  </div>
  <%= turbo_stream_from :webhook_requests %>
  <div id="webhook_requests">
    <%= render @webhook_requests %>
  </div>
</div>
